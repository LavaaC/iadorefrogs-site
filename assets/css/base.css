:root{
  --bg:#008080;
  --win:#c0c0c0;
  --win-active:#dcdcdc;             /* lighter when active */
  --border-dark:#404040;
  --border-mid:#808080;
  --border-light:#ffffff;
  --title-active:#000080;
  --title-inactive:#808080;
  --title-text:#ffffff;
  --title-text-inactive:#e6e6e6;
  --shadow: rgba(0,0,0,.25);

  --taskbar-height: 40px;   /* a bit taller */
  --taskbar-band:   10px;   /* deeper gray chunk */
  --taskbar-band-color: #6e6e6e;
  --taskbar-band-top: #7d7d7d;
  --taskbar-band-bottom: #4b4b4b;
}

html,body{height:100%}
body{
  margin:0;
  background:var(--bg) center/cover no-repeat fixed;
  font:13px/1.35 Tahoma, "MS Sans Serif", "Segoe UI", Arial, sans-serif;
  color:#000; user-select:none; overflow:hidden;
}

/* desktop area leaves room for taskbar + band */
.desktop{
  position:relative; height:100%; width:100%;
  padding-bottom: calc(var(--taskbar-height) + var(--taskbar-band));
  box-sizing:border-box;
}

/* Icons grid */
#icons{display:grid; grid-template-columns:repeat(auto-fill, minmax(92px,1fr)); gap:18px; padding:16px; max-width:860px; position:relative; z-index:1}
.icon{display:flex; flex-direction:column; align-items:center; gap:6px; color:#fff; cursor:default}

/* Image-only desktop icons */
.icon-img{ width:64px; height:64px; display:grid; place-items:center; }
.desk-icon-img{ max-width:64px; max-height:64px; image-rendering:pixelated; display:block; }
.label{ color:#fff; text-shadow:1px 1px 0 #000; padding:2px 4px; border-radius:2px }

/* Taskbar (sits above darker band) */
.taskbar{
  position:absolute; left:0; right:0;
  bottom: var(--taskbar-band);         /* leave room for the band */
  height: var(--taskbar-height);
  background: var(--win);
  display:flex; align-items:flex-end;  /* buttons flush to bottom */
  gap:6px; padding:4px 6px 6px;        /* extra bottom padding */
  box-shadow: 0 -1px 0 var(--border-light) inset, 0 1px 0 var(--border-dark) inset;
}
.start{ display:flex; align-items:center; gap:6px; padding:3px 10px; background:var(--win); border:2px outset var(--border-light); cursor:pointer; font-weight:700 }
.start:active{ border:2px inset var(--border-light) }
.tasks{ flex:1; display:flex; gap:6px; overflow:auto }

/* Darker band below the taskbar */
.taskbar::after{
  content:"";
  position: fixed;  /* fixed to viewport bottom for a solid 'chunk' */
  left:0; right:0; bottom:0;
  height: var(--taskbar-band);
  background: var(--taskbar-band-color);
  box-shadow:
    inset 0 1px 0 var(--taskbar-band-top),
    inset 0 -1px 0 var(--taskbar-band-bottom);
  pointer-events:none;
}

/* Task buttons with icons, flush bottom */
.taskbtn{
  display:flex; align-items:center; gap:6px;
  min-width:140px;
  padding:3px 8px;
  background:var(--win);
  border:2px outset var(--border-light);
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
  cursor:pointer;
}
.taskbtn .taskicon{ width:16px; height:16px; image-rendering:pixelated; }
.taskbtn .taskicon-fallback{ width:16px; height:16px; display:inline-block; text-align:center; }
.taskbtn.active{ border:2px inset var(--border-light); background:#ddd; }

/* status now outside, above the bar */
.status-outside{
  position: absolute;
  right: 10px;
  bottom: calc(var(--taskbar-height) + var(--taskbar-band) + 6px);
  color: #fff;
  font-size: 12px;              /* smaller text */
  text-shadow: 1px 1px 0 #000;
  background: rgba(0,0,0,0.15);
  padding: 2px 6px;
  border-radius: 3px;
}

/* Clock remains inside the bar, right aligned */
.clock{
  min-width:90px; text-align:center; padding:3px 6px;
  background:var(--win); border:2px inset var(--border-light);
  margin-left:auto;
}

/* Windows */
.window{
  position:absolute;
  background:var(--win);
  border:2px solid var(--border-dark);
  outline:1px solid var(--border-light);
  box-shadow:6px 6px 0 var(--shadow);
  display:none;
  min-width:280px; max-width:min(94vw, 900px);
  z-index:100;
}
.window.active-window{ background:var(--win-active); }
.window .titlebar{
  background:var(--title-inactive);
  color:var(--title-text-inactive);
  padding:4px 8px; display:flex; align-items:center; justify-content:space-between; cursor:grab;
  position:relative; user-select:none;
}
.window.active-window .titlebar{ background:var(--title-active); color:var(--title-text); }
.title{ font-weight:700 }

/* Controls clickable */
.window .controls{
  position:absolute; right:6px; top:4px;
  display:flex; gap:6px;
  z-index:9999; pointer-events:auto;
}
.window .controls .btn{
  display:inline-grid; place-items:center;
  width:22px; height:18px; line-height:16px;
  text-align:center; border:1px solid #000;
  background:#c0c0c0; cursor:pointer; user-select:none; pointer-events:auto;
}
.window .controls .btn:hover{ filter:brightness(0.95); }

.toolbar{ padding:6px; background:var(--win); border-bottom:2px outset var(--border-light) }
.content{ padding:10px; background:#fff; border-top:2px inset var(--border-mid); max-height:62vh; overflow:auto }

/* Placeholder blocks */
.ph{display:grid; grid-template-columns:repeat(auto-fill, minmax(140px,1fr)); gap:12px}
.ph-box{height:100px; background:#e8e8e8; border:2px inset var(--border-mid)}
.ph-cap{font-size:12px; color:#222}


/* App icon images inside tiles */
.tile-img{
  max-width: 100%;
  max-height: 100%;
  image-rendering: pixelated;
  display: block;
}

.window { position: absolute; z-index: 100; }
.window .titlebar { position: relative; user-select: none; }
.window .controls {
  position: absolute; right: 6px; top: 4px;
  display: flex; gap: 6px;
  z-index: 9999;           /* keep on top inside window */
  pointer-events: auto;
}
.window .controls .btn {
  display: inline-grid; place-items: center;
  width: 22px; height: 18px; line-height: 16px;
  border: 1px solid #000; background: #c0c0c0;
  cursor: pointer; user-select: none; pointer-events: auto;
}
.window .controls .btn:active { filter: brightness(0.95); }
#icons { position: relative; z-index: 1; } /* icons behind windows */
